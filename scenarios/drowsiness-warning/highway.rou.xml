<?xml version="1.0" encoding="UTF-8"?>
<routes xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://sumo.dlr.de/xsd/routes_file.xsd">
    
    <!-- Définition des types de véhicules -->
    <vType id="car" vClass="passenger" length="4.5" minGap="2.5" maxSpeed="33.33" accel="2.6" decel="4.5" sigma="0.5" color="1,1,0"/>
    <vType id="truck" vClass="truck" length="12.0" minGap="2.5" maxSpeed="25.0" accel="1.3" decel="4.0" sigma="0.5" color="0,0,1"/>
    <vType id="drowsy_car" vClass="passenger" length="4.5" minGap="2.5" maxSpeed="33.33" accel="2.6" decel="4.5" sigma="0.8" color="1,0,0"/> <!-- Véhicule somnolent avec sigma plus élevé pour simuler une conduite erratique -->

    <!-- Définition des routes -->
    <route id="route_main" edges="B1.2102 B2"/>
    <route id="route_enter" edges="B1.2102 B2"/>

    <!-- Véhicules -->
    <!-- Véhicule somnolent -->
    <vehicle id="drowsy_driver" type="drowsy_car" route="route_main" depart="0" departLane="1" departSpeed="20">
        <param key="has.drowsiness.device" value="true"/>
        <param key="device.drowsiness.level" value="0.7"/> <!-- Niveau de somnolence initial -->
        <stop lane="B2_1" endPos="500" duration="10"/> <!-- Simuler un arrêt temporaire, peut-être pour se reposer -->
    </vehicle>

    <!-- Véhicules normaux sur la route principale -->
    <flow id="normal_flow" type="car" route="route_main" begin="0" end="3600" probability="0.7"/>

    <!-- Véhicules entrant sur la route -->
    <flow id="entering_flow" type="car" route="route_enter" begin="0" end="3600" probability="0.4">
        <param key="departSpeed" value="20"/>
    </flow>

    <!-- Camions -->
    <flow id="trucks" type="truck" route="route_main" begin="0" end="3600" probability="0.05"/>

    <!-- Véhicule de police qui pourrait intervenir -->
    <vehicle id="police" type="car" route="route_main" depart="300" departLane="0" departSpeed="max" color="0,0,1">
        <param key="has.alert.device" value="true"/>
    </vehicle>

</routes>